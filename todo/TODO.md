# TODO: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –º–µ—Ç–æ–¥–∞ createUser

## –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
–ù–∞–ø–∏—Å–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è –º–µ—Ç–æ–¥–∞ `createUser` –∏–∑ `UserController.java` –≤ –∫–ª–∞—Å—Å–µ `UserControllerTest.java`.

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **–Ø–∑—ã–∫**: Java 24
- **–§—Ä–µ–π–º–≤–æ—Ä–∫**: Spring Boot 3
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: JUnit 5, Spring Boot Test, Testcontainers
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL —á–µ—Ä–µ–∑ Testcontainers
- **–≠–º—É–ª—è—Ü–∏—è –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**: WireMock –¥–ª—è HTTP-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **–ü—Ä–∏–Ω—Ü–∏–ø —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: AAA (Arrange‚ÄìAct‚ÄìAssert)
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞**: –í—Å–µ —Ç–µ—Å—Ç—ã –¥–ª—è –æ–¥–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã –≤ –æ–¥–∏–Ω `@Nested` –∫–ª–∞—Å—Å

## –¶–µ–ª–µ–≤–æ–π –º–µ—Ç–æ–¥
```java
@PostMapping
public UserResponseDto createUser(@RequestBody @Valid UserRequestDto userRequest) {
    return userService.createUser(userRequest);
}
```

## –°–ø–∏—Å–æ–∫ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### @Nested –∫–ª–∞—Å—Å: CreateUserIntegrationTests

#### üü¢ –£–°–ü–ï–®–ù–´–ï –°–¶–ï–ù–ê–†–ò–ò

1. **createUser_WithValidMinimalData_ShouldCreateUserWith200Ok**
   - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –ø–æ–ª—è–º–∏ (login, email, password)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: —Å—Ç–∞—Ç—É—Å 200, –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ—Ç–≤–µ—Ç–µ, —Å—Ç–∞—Ç—É—Å ACTIVE, —Ä–æ–ª—å USER

2. **createUser_WithValidFullData_ShouldCreateUserWith200Ok**
   - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ –≤—Å–µ–º–∏ –ø–æ–ª—è–º–∏ (login, firstName, lastName, email, password)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: —Å—Ç–∞—Ç—É—Å 200, –≤—Å–µ –ø–æ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã

#### üî¥ –ò–°–ö–õ–Æ–ß–ò–¢–ï–õ–¨–ù–´–ï –°–¶–ï–ù–ê–†–ò–ò

##### –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (400 Bad Request) - 8 —Ç–µ—Å—Ç–æ–≤

1. **createUser_WithBlankLogin_ShouldReturn400BadRequest**
    - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø—É—Å—Ç—ã–º login
    - –ü—Ä–æ–≤–µ—Ä–∫–∞: —Å—Ç–∞—Ç—É—Å 400, —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

2. **createUser_WithTooShortLogin_ShouldReturn400BadRequest**
    - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ª–æ–≥–∏–Ω–æ–º –¥–ª–∏–Ω–æ–π –º–µ–Ω–µ–µ 3 —Å–∏–º–≤–æ–ª–æ–≤
    - –ü—Ä–æ–≤–µ—Ä–∫–∞: —Å—Ç–∞—Ç—É—Å 400, —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

3. **createUser_WithTooLongLogin_ShouldReturn400BadRequest**
    - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ª–æ–≥–∏–Ω–æ–º –¥–ª–∏–Ω–æ–π –±–æ–ª–µ–µ 50 —Å–∏–º–≤–æ–ª–æ–≤
    - –ü—Ä–æ–≤–µ—Ä–∫–∞: —Å—Ç–∞—Ç—É—Å 400, —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

4. **createUser_WithBlankEmail_ShouldReturn400BadRequest**
    - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø—É—Å—Ç—ã–º email
    - –ü—Ä–æ–≤–µ—Ä–∫–∞: —Å—Ç–∞—Ç—É—Å 400, —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

5. **createUser_WithInvalidEmailFormat_ShouldReturn400BadRequest**
    - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º email (–±–µ–∑ @, –±–µ–∑ –¥–æ–º–µ–Ω–∞, etc.)
    - –ü—Ä–æ–≤–µ—Ä–∫–∞: —Å—Ç–∞—Ç—É—Å 400, —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

6. **createUser_WithBlankPassword_ShouldReturn400BadRequest**
    - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø—É—Å—Ç—ã–º –ø–∞—Ä–æ–ª–µ–º
    - –ü—Ä–æ–≤–µ—Ä–∫–∞: —Å—Ç–∞—Ç—É—Å 400, —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

7. **createUser_WithTooShortPassword_ShouldReturn400BadRequest**
    - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–∞—Ä–æ–ª–µ–º –¥–ª–∏–Ω–æ–π –º–µ–Ω–µ–µ 8 —Å–∏–º–≤–æ–ª–æ–≤
    - –ü—Ä–æ–≤–µ—Ä–∫–∞: —Å—Ç–∞—Ç—É—Å 400, —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

8. **createUser_WithMultipleValidationErrors_ShouldReturn400BadRequest**
    - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –æ—à–∏–±–∫–∞–º–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
    - –ü—Ä–æ–≤–µ—Ä–∫–∞: —Å—Ç–∞—Ç—É—Å 400, –≤—Å–µ –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ –æ—Ç–≤–µ—Ç–µ

##### –û—à–∏–±–∫–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ (409 Conflict) - 3 —Ç–µ—Å—Ç–∞

1. **createUser_WithDuplicateLogin_ShouldReturn409Conflict**
    - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º login
    - –ü—Ä–æ–≤–µ—Ä–∫–∞: —Å—Ç–∞—Ç—É—Å 409, —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ

2. **createUser_WithDuplicateEmail_ShouldReturn409Conflict**
    - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º email
    - –ü—Ä–æ–≤–µ—Ä–∫–∞: —Å—Ç–∞—Ç—É—Å 409, —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ


## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –í—Å–µ —Ç–µ—Å—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–ª–∞—Å—Å `UserControllerTest.java`
- –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π `@Nested` –∫–ª–∞—Å—Å `CreateUserIntegrationTests`
- –ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø—É **AAA (Arrange-Act-Assert)**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å Testcontainers –∏ PostgreSQL
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è MockMvc –¥–ª—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è —É—Å–ø–µ—à–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ –∏ –∫–∞—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã –∏ —É–±–µ–¥–∏—Ç—å—Å—è –≤ –∏—Ö –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏
